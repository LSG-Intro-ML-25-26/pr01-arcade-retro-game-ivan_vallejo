let on_start_screen = true
let on_oak_intro = false
let text_sprite : TextSprite = null
let text_sprite_oak : TextSprite = null
let on_game = false
let red : Sprite = null
let current_map = ""
let player_name = ""
let KindNPC = SpriteKind.create()
let npc_list : NPC[] = []
let oak_event = false
let has_pokemon = false
let azul2 : NPC = null
let player_choice = ""
let IMG_BULBASAUR = img`...............................................
...............................................
..................................d............
..................................ed...........
................................ee7ffc.........
......................c6666ccccc766c6cf........
....................677777777777767cccf........
...................d777777777777767cccf........
...................67777777777766776ccf........
......ccb.........6777777cf666677776ccf........
.....699ccc.ccccccccccccc97f77777777cc6f.......
.....69976c6666666666c66696f77777777cc6cc......
.....6999666999999766c79996f77777777cc66f......
.....6967999996666966999966f777777776cc6f......
.....6c999999666669966666666f777777776c66fd....
.....c9999996666699966666666f7777777766c6fd....
.....c9999996667999966666666f7777776666c66cb...
....dc9999996669999966666666fc777776666c66fb...
...dcc96999999999969cddbc7666ff77766666c66fb...
...dc26977999669969c2ed1dc666ffc6666666c66fb...
...dc26977996669969c2ed11c666ffc666666c666fb...
..dbb2d679996669996e3eeb1b666cc6c66666c666fb...
..b6d2.66999669999621eee1d666cc6c6666cc666fb...
..b6.e.667999999976e14441d6666666c66cc666fd....
..b66ee666666666676ee444d666666666cc66666fd....
..bcf777766666666677766666c666666666cc66f......
..bcc6666666666666666666ccc6666666666c6cc......
..bc6fc666666c6666666cccff66c6666cc666cf.......
...dc61eee66667cccfff1666666c6666ccc666c.......
.....c666ceeeeeeeeeeec66666c666666cc6666c......
.....dffc6cce244444cc6666ff6666666666666c......
......ccc666e24444466666cff6666666666666cd.....
........cff6666666666ffff666c666c666cc666fd....
........cccffffffffff6666666c666f66cccc66fd....
........666766c6666666cc66666ccf666cccc66fd....
.........d66666ccf666c6666666ccf666cccc66fd....
.........d66666ccfcccc6666766ccf666cccc6ccd....
.........d66666666fffc6666666ccf6666cc66f......
.........d66666666f..66666666cc.fc6c66c6f......
..........dc666666f..6666666fd..cdcdccdc.......
.........dcdcd666cb..c666666fd..bcfccccb.......
.........dcdcdc66c..dc666666cd...cccccc........
..........dfffffc...c.cc.c.f...................
.....................ffffff....................
...............................................
...............................................
...............................................
...............................................
`
let IMG_CHARMANDER = img`...............................................
...............................................
...............................................
...............................................
........................44eee..................
......................4244444ff................
.....................4554444444f...............
....................455544444444c..............
....................455544444444e..............
...................4445444444444ee.............
...................e4444444e444eee.............
...................fe44444e4f4eeec.............
...................6e444444ffffeec.............
....................44444441f6feec.............
...................f44444441f6feec.............
...............511e55444444f6eeeec.............
..............5111f544444444eefeec111ee........
...........d552111fe4e4444efffeef11be4f........
.........d555211111f444effff1eeeffe44ef........
.........25552111111efffeedfeefefe44444f.......
.........5442111111111fefffeefeeeeeeeff........
........254221111111111f442ffeeeeeecf..........
.......2552423dd111111d4effee444eeeb...........
......345555224511111145444ee3334ec............
......2555552311111111e45544eee444ed...........
......2555442111111111de444e4f2c44eb...........
.......25fe2d1111111111fff4ffef4443ed..........
........2fe3111f1f1111ffeeffffdd444ed..........
........44b111f1f1f1ee4444eb4444444ed..........
........44b11fdeeeefe44444444444444ef..........
........e4b111fb4eefe44444444444444ef..........
........e4b111f4b4eee44444444444444ef..........
........ee4d11feb4eeee444434444444eef..........
........ee44e11fb4eeeeee44444444deeef..........
.........f444eefe4eeeeeeee44443bbeefd..........
.........ee44444feeeffffebbbbb4befefd..........
.........deee444efffeeeeffbb44bbfecb...........
..........beeeeeeeeeeeeebb44bbffeec............
...........cfebeeeeeeb4444bfffeeec.............
.............fffbbbbb4bbffffeeeeee.............
................ffffffff...feeee42b............
............................fee44eeb...........
.............................ff4edbcd..........
...............................ffffb...........
...............................................
...............................................
...............................................
...............................................
`
let IMG_SQUIRTLE = img`...............................................
.............d111111d..........................
.............66666666..........................
...........669999999966........................
..........69999999999696.......................
........dd69999999999996d......................
........d6999999999999996d.....................
.......66999999999999999966....................
.......66999999996999999966....................
......6669999999696666999666...................
......6ee999999996fd1169666f...................
......6.969999999fffc166666f...................
......6ec69999999ffee166666f............d......
d.....6fc999999991fee166666f...........d.......
.....d9bb99999999bfee166666f...................
.....699999999999eccb166666f...................
.....f999696999999966666666f111111111111d......
......f669999999996666666cc1166666.............
.661611fff996666666cee666661699666f............
.66966ffc6ffe44444eee666f66999666f11111d.......
699999666f66eeeeee66666f669996666f1111d1d1111d.
6999999999f66666666cffd.6999966cf..............
.666999999666ccffffbddd69999666cf..............
.d966666666bbbbbbbe444669996668bb..............
..d6666666644dd44d444466696666cb11111ddddd.....
....6666664d4d444ddddd6666666cedd111166666.....
......ffff4dd44ddddddd466666feeee11666999669...
........d4dddddddddddd4dffcf1eeeed66999999666..
........d4dddddddddddddddee11eeee669999999966.d
.d111111d4ddddddddddd4dddee11eecf666999669966f.
.....d11d44dd44dddd44dddd4e11efee666666996966f.
........d4dd4444dd444dddd44e144ee666666999666f.
........d4ddd44ddddd44ddd44e1d4ef666c6666668cdd
.......9b4ddd44dddddd44dbbbc91ecf666f666666cc..
.......66edddddddddddd4d666661ecf666f6666668f..
......69994ddddddddddd469999661cf6666cf666fb...
.....69999444444dddddd69999996666666666fff.....
.....6999994ddddd4444469999996f66666ffff.......
.....6999996e3ddddd444699999966cffff...........
.....c6999666cee444444f69999666cf..............
......f666666666eefffff66666666cf..............
......666666666f1111111f6666666cf..............
.....6666696cccd1111111dc66666666c.............
.....66666b6ccb111111111f66666666f.............
......ffc1ff111111111111fb96f96cff.............
.........................cff1ffb11111111111111d
.............d11111111d111111d.................
...............................................
`
// Comando cambiar color:
// color.set_color(3, color.rgb(255, 213, 180))
// color.set_color(3, color.rgb(131, 213, 98))
// color.set_color(5, color.rgb(246, 238, 197))
// color.set_color(6, color.rgb(189, 255, 139))
// color.set_color(7, color.rgb(57, 148, 49))
// color.set_color(10, color.rgb(57, 90, 16))
// color.set_color(12, color.rgb(123, 123, 131))
// Comando volver color original:
// color.set_color(3, color.rgb(255, 147, 196))
// color.set_color(5, color.rgb(255, 246, 9))
// color.set_color(6, color.rgb(36, 156, 163))
// color.set_color(7, color.rgb(120, 220, 82)
// color.set_color(10, color.rgb(142, 46, 192))
// color.set_color(12, color.rgb(92, 64, 108))
class NPC {
    name: string
    dialogue: any[]
    sprite: Sprite
    constructor(name: string, image: Image, x: number, y: number, dialogue: any[]) {
        this.name = name
        this.dialogue = dialogue
        this.sprite = sprites.create(image, KindNPC)
        tiles.placeOnTile(this.sprite, tiles.getTileLocation(x, y))
        this.sprite.setFlag(SpriteFlag.Ghost, false)
    }
    
    public talk() {
        for (let line of this.dialogue) {
            game.showLongText(this.name + ": " + line, DialogLayout.Bottom)
        }
    }
    
    public destroy() {
        this.sprite.destroy()
    }
    
}

function clear_map() {
    
    for (let s of sprites.allOfKind(KindNPC)) {
        s.destroy()
    }
    npc_list = []
}

function player_home_npc() {
    clear_map()
    let mom = new NPC("Mamá", assets.image`mom_front`, 7, 6, ["Buenos días " + player_name + "!", "Hoy por fin vas a ser un entrenador Pokemon!", "El profesor Oak me ha dicho que vayas a su laboratorio para darte tu primer Pokémon!"])
    npc_list.push(mom)
}

function pallet_town_npc() {
    clear_map()
    let flower_girl = new NPC("Niña", assets.image`flower_girl`, 8, 14, ["Estas flores huelen muy bien y son muy bonitas!"])
    npc_list.push(flower_girl)
    let kid0 = new NPC("Niño", assets.image`kid0`, 6, 19, ["Estamos compitiendo a ver quien hacer rebotar más veces una piedra sobre el agua!"])
    npc_list.push(kid0)
    let kid1 = new NPC("Niño", assets.image`kid1`, 11, 19, ["He llegado a hacer que la piedra rebote 7 veces, voy ganando!!!"])
    npc_list.push(kid1)
    let kid2 = new NPC("Niño", assets.image`kid2`, 2, 10, ["Buenos días " + player_name + "!"])
    npc_list.push(kid2)
}

function rival_house_npc() {
    clear_map()
    let rival_mom = new NPC("Madre de azul", assets.image`rival_mom`, 4, 5, ["Hola " + player_name + ", si buscas a Azul, te está esperando en el laboratorio del profesor Oak para que recojáis vuestro primer pokémon!"])
    npc_list.push(rival_mom)
}

function laboratory_npc() {
    let prof_oak: NPC;
    let ball_bulbasaur: NPC;
    let ball_charmander: NPC;
    let ball_squirtle: NPC;
    let azul: NPC;
    
    clear_map()
    let lab_npc = new NPC("Científico", assets.image`lab_npc`, 3, 3, ["Sabías que si un pokémon usa un movimiento de su mismo tipo, este verá aumentada su potencia en un 50%?"])
    npc_list.push(lab_npc)
    if (oak_event) {
        prof_oak = new NPC("Profesor Oak", assets.image`oak`, 5, 4, ["Pues ya estamos todos, podéis escoger a vuestro inicial! Escoger con cuidado, ya que este pokémon será el que os acompañe para el resto de vuestra aventura. Adelante " + player_name + ", haz tú los honores y escoge primero!"])
        tiles.setWallAt(tiles.getTileLocation(5, 4), true)
        npc_list.push(prof_oak)
        azul2 = new NPC("Azul", assets.image`rival`, 7, 3, ["Que sepas que yo seré el mejor entrenador de Kanto, no podrás hacer nada contra mi!"])
        npc_list.push(azul2)
        ball_bulbasaur = new NPC("Bulbasaur", assets.image`pokeball`, 8, 4, ["El Pokémon inicial de tipo planta. ¿Quieres quedarte con Bulbasaur?"])
        npc_list.push(ball_bulbasaur)
        ball_charmander = new NPC("Charmander", assets.image`pokeball`, 10, 4, ["El Pokémon inicial de tipo fuego. ¿Quieres quedarte con Charmander?"])
        npc_list.push(ball_charmander)
        ball_squirtle = new NPC("Squirtle", assets.image`pokeball`, 12, 4, ["El Pokémon inicial de tipo agua. ¿Quieres quedarte con Squirtle?"])
        npc_list.push(ball_squirtle)
    } else {
        azul = new NPC("Azul", assets.image`rival`, 7, 3, ["Se puede saber donde se habrá metido ese viejo? Quiero mi pokémon ya!", "Oye " + player_name + ", podrías salir a buscarlo por favor?"])
        npc_list.push(azul)
    }
    
}

function start_screen() {
    
    on_start_screen = true
    scene.setBackgroundImage(img`
        111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111bd111111111111111111111111111111111111111111111111111111111111111111111111
        111111111111111111111111111111111111111111111111111111111111111111111111111111111111dcbd11111111111111111111111111111111111111111111111111111111111111111111111
        11111111111111111111111111111111111111111111111111111111111111111111111111111111111bcccb11111111111111111111111111111111111111111111111111111111111111111111111
        111111111111111111111111111111111111111111111111111111111111111111111111111111111ddccbbcb1111111111111111111111111111111111111111111111111111111111111111111111
        11111111111111111111111111111111111111111111111111111111111111111111111111111111dbcbdddccbd11111111111111111111111111111111111111111111111111111111111111111111
        11111111111111111111111111111111111111111111111111111111111111111111111111111111bcbddddbccd11111111111111111111111111111111111111111111111111111111111111111111
        111111111111111111111111111111111111111111111111111111111111111ddd1dd1111111111bcbdddbbcbbd11111111111111111111111111111111111111111111111111111111111111111111
        111111111111111111111111111111111dd111111111111111111111111ddbbbbd1bcd11111111bcbddbbccbdd11111111111dbbbbbbbd1111111111111111111111111111111111111111111111111
        11111111111111111111111111ddddbbbbbbbbbddd1111111111111dddbbcccccddcccbd11111dccbbcccbbbd1111dbbbbbbbccccccccb111111111ddd1111111111111111111111111111111111111
        11111111111111111111111dddbbcccbbccbbbcccbdd1111111111bbccccbbbccdbcbccbd1111dbcccccbbbbd1111bcbbbbbccccddddcb111111111bbbbdddd11111111111111111111111111111111
        111111111111111111111ddbbccbbbbbdddddbbbccbbd11111111dccbbbddddbcbcbddbccbd1dbbcccccbbccbbd1dccbddddbcccddddcc111111111bccccbbbbddd1111111111111111111111111111
        1111111111111111111ddbccbbbddddddddddddddbbcbd1111111dccdddddddbccbddddbbcbdbccbbdddddbbccbddccddddddbcbddddcc111111111bcbbbbbbcccb1dddd11111111111111111111111
        111111111111111111bbccbbdddddddddddddddddddbcb111111dbccbbdddddbcbdddddddbcccbbdddddddddbbcbbcbddddddbcdddddccd111111ddbcddddddbbccdbcbbbbddd111111111111111111
        11111111111111111dccbdddddddddddddddddddddddccd11111bbbcccdddddbcddddddddbccbddddbbbbddddbccccbdddddddcdddddbcb111111bbbccbddddddbcdbcbccbbbbbd1111111111111111
        11111111111111111dbcbdddddddddddddddddddddddbcbd1111bbbcccdddddbbdddddddbccbddddbcccbddddbccccbdddddddbddddddcb11ddddbbbccbddddddbcccbddddbbcbd1111111111111111
        1111111111111111ddbccbddddddddddddbbbbbbdddddccd1111bbbbbcbddddddddddddbccbddddbcccbddddbccbccdddddddddddddddccddbbbbbbbccbdddddddcccddddddbcb11111111111111111
        111111111111111dbbbbccddddddddddddbcccccbddddccd1dddcbbbbcbdddddddddddbcccbddddcbbbdddbcccbbccdddddddddddddddccbccbbbbbbccbdddddddcccddddddccd11111111111111111
        111111111111111dbbbbbccddddddddddddbcccccbdddccdbbbcccccccbddddddddddbcbccdddddcdddddbcccccbccdddddddddddddddbccbbddddddbbcbddddddbccddddddccd11111111111111111
        1111111111111111dbbbbbcbbcbddddddddddbbccbdddcccbbddddbbcccdddddddddccbbccdddddbddddbccbbbcccbdddddddddddddddccdddbdddddddccddddddbcbdddddbcb111111111111111111
        1111111111111111dbbbbbcccccddddddddddddbcbddbccbdddddddddbcbdddddddbccbbccdddddddddbbbddddbccbbdddddddddddddbcbddbcdddddddbcbddddddcddddddccd111111111111111111
        11111111111111111dbbbbbccccbdddddddddddbbddbccbddbbdddddddccddddddddbbbbccbddddddddddddddddbccbddddddddddddbcbdddccddddbdddcbddddddbdddddbcb1111111111111111111
        111111111111111111dbbbbbbbccddddddddddbbddbccbdddccdddddddbcbdddddddddddbbcbddddddddddddddbbcbddddbdddddbddccddddbccbbbcdddbcddddddddddddccd1111111111111111111
        1111111111111111111dbbbbbbbccddddddddddddbccbddddccbdddbdddbcdddddddddddddccbddddddddddddbcccdddddbcddddcddccdddddcccccbdddccddddddddddddccd1111111111111111111
        1111111111111111111dbbbbbbbccdddddddddddbcccdddddbccccccdddbcdddbbddddddddbccccbddddddbcccccbdddddbcbddbcbdccdddddbbbbdddddcbdddddddddddbcb11111111111111111111
        11111111111111111111ddddbbbbccdddddddddbccccddddddccccbddddbcdddcccbbdddddddbccccccccccccbccbdddddbccddccbdccdddddddddddddbcdddbddddddddccd11111111111111111111
        11111111111111111111111dbbbbccddddddddbccbbcdddddddbbbddddbcbdddcccccbbdddddddbbbccccccbbbccddddddcccbbcccdccbdddddddddddbcbdddbdddddddbcb111111111111111111111
        111111111111111111111111dbbbbcbdddddddbcbbbcddddddddddddddccddddccbbbcccbddddddddbcbbbbbbbccbbbddbcbbcccccdbccddddddddddbcbdddbcdddddddccd111111111111111111111
        1111111111111111111111111bbbbccbdddddddccbbccddddddddddddbccddddccbbbbbbcbbbdddddbcbbbbbbbbcccccbccbbbccccddbccbbdddddbbcbddddbcdddddddccd111111111111111111111
        1111111111111111111111111dbbbbccdddddddccbbbcbddddddddddbcccddddccbbbbbbbbcccbdddbcbbbddbbbbbbbbbbcbbbcbccdddbcccccccccccdddddccddddddbcb1111111111111111111111
        1111111111111111111111111dbbbbccbddddddccbbbccbbddddddbbccccddddccbbbbbbbbbbcccbbbcddd1dbbbbbbbbbbbbbbbbccdddddcccccccbccdddddccddddddbcd1111111111111111111111
        11111111111111111111111111dbbbbccddddddbcbbbbcccbbbbbbcbcbccddbbccddbbbbbbbbbccbcccd111dbbbbbbbbbddbbbbbccbbbbbbccbbbbbccddddbccdddddbcb11111111111111111111111
        111111111111111111111111111dbbbbcbddddddccbbbbbbcccccbbbbbbcccccccd1dddbbbbbbbbbbbcd1111dddddbbbb11dbdbbbcccccccccbbbbbcccbbbcccdddddbcd11111111111111111111111
        111111111111111111111111111dbbbbccddddddbcbbbbbbbbbbbbbbbbbbbbbbbdd111dddbbbbbbbbdbd111111ddddddd111d1bbbbbbbbbbbbbbbbbbbbbbccccdddddccd11111111111111111111111
        1111111111111111111111111111bbbbbcbdddddbcbbbbbbbbbbbbbbbbbbbbbbd1111111dddbbbbbbd11111111111111111111bbbbbbbbbbdddddbbbbbbbbbccddddbcbdddd111d1111111111111111
        1111111111111111111111111111dbbbbccddddbbccdbbbbbbbbbdddbbbbbbbbd1111111111dddbbbd11111111111111111111bbbbbbbbbbd1111bbbbbbbbbccbbddbcdbcbcd1dc1111111111111111
        11111111111111111111111111111bbbbbcbbbbcccbddddbbbddd111bbbbddddd111111111111dddbd11111111111111111111ddddddbbbbd1111bbbbbbbbbccbcbbcb1dcdcbbbc1111111111111111
        11111111111111111111111111111dbbbbccccbbbddd111dddd11111ddddd1111111111111111111dd11111111111111111111111111ddddd1111dddddddbbbbbbbbcd11c1c1bdc1111111111111111
        111111111111111111111111111111dbbbbccbbbd1111111111111111111111111111111111111111111111111111111111111111111111111111111111dbbbbbbbbbd11d1d111d1111111111111111
        111111111111111111111111111111dbbbbbbbbbbd111111111111111111111111111111111111111111111111111111111111111111111111111111111dbbbbbbbb111111111111111111111111111
        1111111111111111111111111111111dbbbbbbbddd1111111111111111111111111111111111111111111111111111111111111111111111111111111111dddbbbbb111111111111111111111111111
        1111111111111111111111111111111dbbbdddd111111111111111111111111111111111111111111111111111111111111111111111111111111111111111dddddd111111111111111111111111111
        11111111111111111111111111111111dddd111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        11111111111111111111111111111111111111111111111111111111111111111111111111111111b111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111ddd11111d11d1111111d1111b311111111111111dddd1111111111bb11ddd1111111111111111111111111111111111111111111
        111111111111111111111111111111111111111111111111111111deebb11ddee1bb11ddd1bb11dbd11ddd111111111eebed11ddd1111bb11bbed111111111111111111111111111111111111111111
        111111111111111111111111111111111111111111111111111111d2ebb13eb2e1bb13ebb1bb13ebeddeebd1111111d2ebeb13ebed111ee11bb2e111111111111111111111111111111111111111111
        111111111111111111111111111111111111111111111111111111d2ebbdeed2edeedeedddeedeed2ed2ede1111111d2ebebdeed2e11d2e1beb2e111111111111111111111111111111111111111111
        111111111111111111111111111111111111111111111111111111d2ebb1beb2ed2e1bebbd2e1bebebd2ede1111111d2ed2e1bebeb1bbeb1bebbeb11111111111111111111111111111111111111111
        111111111111111111111111111111111111111111111111111111133331133331331133313311333113313111111113313311333113331113313311111111111111111111111111111111111111111
        111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111dbbbd1111111111111111111111111111111111111111111111111111
        111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111bcbbcccbcb11111111111111111111111111111111111111111111111111
        111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111dbcbccbdddbbbc1111111111111111111111111111111111111111111111111
        111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111cbbbddd111bbbbb111111111111111111111111111111111111111111111111
        11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111bbbdd111111bbbbcd11111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111dcdd11111111dbbbbc11111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111df111111ddddbbbbbf11111111111111111111111111111111111111111111111
        11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111bb1dbbbbdddbbbbbfd1111111111111111111111111111111111111111111111
        11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111dcdbbbbbccccccbcfc1111111111111111111111111111111111111111111111
        11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111bcbecccfccfccccccfb111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111dcccfcfcebbfdbbcdbfb111111111111111111111111111111111111111111111
        11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111bbcfbfddddedd1dbdf1111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111bfdbdbddddd1cdcb1111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111dcbddbbbdd1dcbd11111111111111111111111111111111111111111111111
        11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111dccbbbedbbcdd111111111111111111111111111111111111111111111111
        111111111111111111111111111111111111111111111111111111111111111111111111111111111111bbb111111111111ceeceebcbbb1111111111111111111111111111111111111111111111111
        11111111111111111111111111111111111111111111111111111111111111111111111111111111111ccebb1111111111beddcffbf1dbbb11111111111111111111111111111111111111111111111
        111111111111111111111111111111111111111111111111111111111111111111111111111111111dccbddcc111111dccced1dfe3ecdbfbdcd11111111111111111111111111111111111111111111
        111111111111111111111111111111111111111111111111111111111111111111111111111111111dcbbbbbf11111dcbddccddccccfcbbbbbc11111111111111111111111111111111111111111111
        111111111111111111111111111111111111111111111111111111111111111111111111111111111dcbbcbbc11111bb111dceebcccfbddbcdcb1111111111111111111111111111111111111111111
        111111111111111111111111111111111111111111111111111111111111111111111111111111111bebbfccbb111dcb111debbccccfebddc1dc1111111111111111111111111111111111111111111
        11111111111111111111111111111111111111111111111111111111111111111111111111111111dfedcefbfcbbbbbeb11bbdbfcccffbbdcd1bb111111111111111111111111111111111111111111
        11111111111111111111111111111111111111111111111111111111111111111111111111111111dfeecdcdcccfbd1decdcbbbccccffbbbbc1dc111111111111111111111111111111111111111111
        111111111111111111111111111111111111111111111111111111111111111111111111111111111beccbcbcccfdddbcfccbbbbfcfffcbbbfdcb111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111dddcccfcccbbbcccccbbbbffffffbbbfbbc111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111dddcbbdbbddddfbbbbbffffffbbcfddcd11111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111df1dddbffbbffccbfdddc11111111111111111111111111111111111111111
        11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111bcccccccbcfcfb1bebcfcd111111111111111111111111111111111111111
        111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111bfcccbbbfcbcc11ccccfc111111111111111111111111111111111111111
        111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111dfbbbbbbcbbbf11dfccccb11111111111111111111111111111111111111
        111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111dcbbbbcccbbbf11bcccbcc11111111111111111111111111111111111111
        111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111bbbbbbcfbbbbcddfdcbdcb11111111111111111111111111111111111111
        11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111dfbbbbcdbcbbbbc1bcfddc111111111111111111111111111111111111111
        11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111dcbbbbf1dfbbbbf11bbbbd111111111111111111111111111111111111111
        11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111ccbbbcc1dfbbbbf1111dd1111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111dfbbbbcd1dcbbbbcb111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111ccbbbbb111bcbbbbf111111111111111111111111111111111111111111111
        111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111dfbbb3c1111dfbbbbf111111111111111111111111111111111111111111111
        111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111dccbbbc1111dfcbccc111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111bcbbcb1111bccbccd111111111111111111111111111111111111111111111
        111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111dcbdddc111dcbbddf1111111111111111111111111111111111111111111111
        111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111dfebbcf1111beebcfb111111111111111111111111111111111111111111111
        11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111dccfcccf1111dfcccffbd1111111111111111111111111111111111111111111
        11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111dfbbbbcc1111dcccccbbc1111111111111111111111111111111111111111111
        11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111dcbbbecd11111dcccbbbc1111111111111111111111111111111111111111111
        1111111111111111dbbbd11bb11111111111111bb11111111111111bb111111111111111111111111111111111111111dbbbbd1111111ddbbbbd1111111111111111111111111111111111111111111
        111111111111111debbbed1bc1dbbbddbbbbd11bc1dbbbd1dbbbd11bc1dbbbd1dbbbd111bbbb1dbbbd1b11111b1bbbb11dcccb1bbbbd1bbcbddbbbd1bb1bb111bb11111111111111111111111111111
        11111111111111debdccbe11bdefbfedffbbd111bdefbfedcfbbd111bdefbfedefbfe1dcfbbbdefbfedfcd1dcfdffbb11dffbbdffbfedffbbdefbfedffcfb111bb1cccd1dccb1111111111111111111
        11111111111111dfdebbdf111dcccffdccccc1111dcccffdffccc1111dcccff1bfcfb1dffdccdffcffdffbbcffdffbb11dffbbdffcfedffbbdffcffdffced111ccdffbe1cfbd1dd1111111111111111
        11111111111111debbbbbe111dbbcfc1bbcfe1d11dbbbfcdcfbfe1d111bbbfcdefbfb1dcfbffdffdffdffdbdffdffbb11dffdddffdfcdffbbdffdffdffdcc11dffdffdf1cfbbdcc1111111111111111
        111111111111111bebbbed111dbbbbd1dbbcd1b111bbbbd1dcbcd1b111bbbbd1dcbcd11dcbcb1cb1cb1cb1d1cb1ccbb111cb111cb1cc1ccbb1cc1cc1cc1cc111cc1cc1c1dcbb1cc1111111111111111
        1111111111111111dbbbd111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        `)
    bottom_text_sprite()
    music.play(music.createSong(assets.song`
            startscreen
            `), music.PlaybackMode.UntilDone)
}

function close_start_screen() {
    sprites.destroy(text_sprite)
}

function close_oak_intro() {
    story.clearAllText()
    sprites.destroy(text_sprite_oak)
}

function oak_cutscene() {
    story.startCutscene(function oak_intro() {
        
        on_start_screen = false
        scene.setBackgroundImage(img`111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    111111111111111111111111111111111111111111111111111111111111111111111111111dddddd111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111ddbdddbbdd1dddddddd1111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111dddddddddddddbbbbbdddd1111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111ddddddddddddddddddddbddd11111111111111111111111111111111111111111111111111111111111111
    111111111111111111111111111111111111111111111111111111111111111111111111dbbbbddddddddddddddddddbbdd111111111111111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111111111111111111111111dbdddddddddddddddddddddddbbb111111111111111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111111111111111111111111dbbddddbbbbbbddddbbbbbbddbbb111111111111111111111111111111111111111111111111111111111111
    111111111111111111111111111111111111111111111111111111111111111111111111dbbbbbddddddbbbddddddbbbbbb111111111111111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111111111111111111111111ddbbbbbdddddddddddddddbbbbbb111111111111111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111111111111111111111111ddbbbbbdddddddddddddddbbbbcb111111111111111111111111111111111111111111111111111111111111
    111111111111111111111111111111111111111111111111111111111111111111111111ddbbbbbbbbdddddddbeebbbbcbd111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111dbbbbeeecbddddbccccebbecb1111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111ddbbebbbccddddbccbbbbbecbd111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111dbbbbdddbcdddddecbdddbeecb111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111dbbbbdddbbddddddbdddbeeecb111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111dbbbbdddddddddddddddbebbcb111111111111111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111111111111111111111111111dbbbdddddddddddddddbbecb1111111111111111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111111111111111111111111111111dddddddddbddddbbcccd11111111111111111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111111111111111111111111111111dbbddbeeeebbbbbbbd1111111111111111111111111111111111111111111111111111111111111111
    111111111111111111111111111111111111111111111111111111111111111111111111111111dbbbddddddbbbcb111111111111111111111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111111111111111111111111111111ddbbcbbbbbbeecccdd1111111111111111111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111111111111111111111111111dddbbbbbbccecceeccccbdd11111111111111111111111111111111111111111111111111111111111111
    111111111111111111111111111111111111111111111111111111111111111111111111ddbbbbbbbbbcbbbbbbbbbccbbbbdd1111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111dbbbbdddbbbbbbbbbccbbbbbbddbbbbbd11111111111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111111111111111111111ddbbbd1dddbbbcbbbbcccbbbbbbd111dbbbd1111111111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111111111111111111111dbbbbd1ddbbbbccebccbbbbbbbd1111ddbbb1111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111dbbbbbd1d1dbccbcccbbbbbbbbbd111d11dbbd111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111dbbbbd1ddddbbbbbcbbbbbbbbbbd11dd111dbb111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111dbbbdd11d11dbbbbbbbbbbbddddd1ddd111dbb111111111111111111111111111111111111111111111111111111
    111111111111111111111111111111111111111111111111111111111111111111dbbdddd11111dbbbbbbbbbbbd111111dd111dbbd11111111111111111111111111111111111111111111111111111
    111111111111111111111111111111111111111111111111111111111111111111dbbdddd1111dbbbbbbbbbbbd111d11111111dbccd1111111111111111111111111111111111111111111111111111
    111111111111111111111111111111111111111111111111111111111111111111dbbdddd1111dbbbbbbbbbbbd111d11111111dddbcd111111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111111111111111111ddbddddd1111dbbbbbbbbbbbd111111d11111111bcd111111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111111111111111111dbbddddd1111dbbbbbbbbbbbd111111dd111d11dbcd111111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111111111111111111dbbddd111111dbbbbbbbbbbbd11111dbbd11111dbbd111111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111111111111111111dbbddd11111ddbbbbbbbbbbbd11111ddbbdd11dddbbd11111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111dbbddbd11111dbbbbbbbbbbbd1111111ddbcbdddddbcb11111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111d1111111111dbbbdbbd11111dbbbbbbbbbbb11111111ddbbbdddddbbbd1111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111ddddd1111111ddbddddbd1111ddbbbbbbbbbbb11111111dddbbddddbbbbbd111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111ddbddbdddddddbbbdddbbd1111ddbbbbbbbbbbb1111111ddddbbbbbbdddbbb111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111dbbbdbbbbbbbbddddbbbb11111ddbbbbbbbbbbb1111111ddddbccbbbbbdbcbd11111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111ddbbebbdbbccbdd1111ddbb1111dddbbbbbbbbbbbdd1111ddddbccccbbddbbbcbd1111111111111111111111111111111111111111111111
    111111111111111111111111111111111111111111111dddddddddddbbcccd1111ddbbd111dbbbbbbbbbbbbbdd11ddddbbccbd1111dddbccd1111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111ddbdddbbbbdddbbeccbdddddbbd111dbcbbbbbbbbbbbddddddbccbd11111111ddbccd1111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111dbebbbbeebbdddddbcbdddddbbdddddbcbbbbbbbbbbbddddddbcccb111111111ddccd1111111111111111111111111111111111111111111111
    111111111111111111111111111111111111111111111dbbbbbbbbbbdddbecbdddddbbdddddbcccbbbbbcbbdddddbbddbbcbd111111ddbccd1111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111dbccccbeecbecccbddddbbbdddddbffccbbccccbddddbbddddddbbd111dddbbbbd1111111111111111111111111111111111111111111111
    111111111111111111111111111111111111111111111111111dbccccfccbbbbbbbbbddddddcfcbdddbcfcbdddddddbddddbbbddbbbbccb111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111dbccccbcccccbbbbdddbcfccbbbccccbdddddbccbdbbbcccbbcbd111111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111111111dbbccbd11dbbdbbdddbeeeecccccecbddddbbcbbbbcccccb1111111111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111111111111111111dbbdbbdddbeeeeeeeeeeebddddbbbbbbbbbccbd1111111111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111111111111111111dbbdbbdddbeeeeeeeeeeebdddddbbddddddbcb11111111111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111111111111111111dbbdbbdddbeeeeeeeeeeebdddddbbddddddbcb11111111111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111111111111111111dbbdbbdddbebeeeeeeeeebdddddbbddddddbcb11111111111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111111111111111111dbbdbbdddbebeeeeeeeeebdddddbbddddddbcb11111111111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111111111111111111dbbdbbddbbebbeeeeeeeebdddddbbddddddbcb11111111111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111111111111111111dbbdbbdbbebbbbecceeeebdddddbbddddddbcb11111111111111111111111111111111111111111111111111111111
    111111111111111111111111111111111111111111111111111111111111111111dbbbbdbbebbbbeeceeebbdddddbbddddddbbd11111111111111111111111111111111111111111111111111111111
    dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddbbbbdbbebbbbbbecebbbddddddbdddddbbbddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddbbdddbbebbbbbbeceebbdddddddbbbbbbbbddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddbbdddbbebbbbbbefeebbdddddddddddddbbddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddbbbddbbebbbbbbefcebbbdddddddddddbbbddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddbbcbbbbebbbbbeefceeebdddddddbbbccbdddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddbbeeeeebbbbbbeecbcebbbbbbbbbbeeccddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddbcceeeebbbbbbecbbceebeeeeeeeeeeecddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddbcceeeebbbbbeecdbbcebbbbeeeeeeeecbdddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddbccbeeebbbbbeecbdbcebbbbeeeeeeeecbdddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddbccbeeebbbbbeecbdbbcebbbbeeeeeeecbdddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddbbcceeebbbbbeecbddbcceeeeeeeeeeeecbddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbddddbcceeeebbbbeecbddbbceeeeeeeeeeeecbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbdddddbcceeeebbbeebdddddbcceeeeeeeeeeecbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbddddddddddddddddbceeeeebbecbddddddbceeeeeeeeeeecbdddddbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbddddddddddddddddddddddddbbeeeeeebbeecdddddddbeeeeeeeeeeecbddddddddddbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    666666666666666666666666666666666bbbbbbdddddddddddddddddddddddddddddcceeeeeeebbeecddddddbeeeeeeeeeeecddddddddddddddddbbbbb6666666666666666666666666666666666666
    6666666666666666666666666666666bbbbbddddddddddddddddddddddddddddddddbceeeeeeeebeecddddddbeeeeeeeeeeecdddddddddddddddddddbbbbb6666666666666666666666666666666666
    66666666666666666666666666666bbbbdddddddddddddddddddddddddddddddddddbccceeeeeeeeecdddddbceeeeeeeeeeecddddddddddddddddddddddbbbb66666666666666666666666666666666
    6666666666666666666666666666bbbdddddddddddddddddddddddddddddddddddbcccccccfccccccbdddddbceeeeeeeeeeecddddddddddddddddddddddddbbb6666666666666666666666666666666
    666666666666666666666666666bbbdddddddddddddddddddddddddddddddddddbccceeeecccccfcbddddddbcccceeccccccbdddddddddddddddddddddddddbbb666666666666666666666666666666
    66666666666666666666666666bbbddddddddddddddddddddddddddddddddddddbcceeeecccccccbdddddddddccccceeccccbddddddddddddddddddddddddddbbb66666666666666666666666666666
    6666666666666666666666666bbbbdddddddddddddddddddddddddddddddddddddbcccccccccbbbddddddddddbcfceeeeecccdddddddddddddddddddddddddddbb66666666666666666666666666666
    66666666666666666666666666bbbdddddddddddddddddddddddddddddddddddddddbbbbbbbddddddddddddddddbccccccccbdddddddddddddddddddddddddddbb66666666666666666666666666666
    66666666666666666666666666bbbdddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddbb66666666666666666666666666666
    666666666666666666666666666bbddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddbb666666666666666666666666666666
    6666666666666666666666666666bbbddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddbbb6666666666666666666666666666666
    666666666666666666666666666666bbbddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddbbb666666666666666666666666666666666
    66666666666666666666666666666666bbbbbddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddbbbbb66666666666666666666666666666666666
    6666666666666666666666666666666666bbbbbbbddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddbbbbbb66666666666666666666666666666666666666
    66666666666666666666666666666666666666bbbbbbbbddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddbbbbbbbb66666666666666666666666666666666666666666
    66666666666666666666666666666666666666666666bbbbbbbbbddddddddddddddddddddddddddddddddddddddddddddddddddbbbbbbbbb66666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666bbbbbbbbbbbbbbddddddddddddddddddddddddddddddbbbbbbbbbbbbbb6666666666666666666666666666666666666666666666666666
    66666666666666666666666666666666666666666666666666666666666bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb66666666666666666666666666666666666666666666666666666666666666
    666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666`)
        music.play(music.createSong(assets.song`oakLabTheme`), music.PlaybackMode.LoopingInBackground)
        story.printDialog("Antes de empezar, como te llamas?", 80, 110, 30, 150)
        player_name = game.askForString("Cuál es tu nombre?", 12)
        story.printDialog("Ah, " + player_name + ", ¡qué nombre tan genial!", 80, 110, 30, 150)
        on_oak_intro = true
        top_text_sprite()
        story.printDialog("Hola " + player_name + "! Bienvenido al mundo Pokémon.", 80, 110, 30, 150)
        story.printDialog("Mi nombre es Oak, pero la gente me llama profesor Pokémon.", 80, 110, 50, 150)
        story.printDialog("Este mundo está habitado por", 80, 110, 30, 150)
        story.printDialog("unas criaturas llamadas Pokémon,", 80, 110, 30, 150)
        story.printDialog("algunos los usan de mascota,", 80, 110, 30, 150)
        story.printDialog("otros los usan para luchar,", 80, 110, 30, 150)
        story.printDialog("mientras que yo los estudio como profesión.", 80, 110, 50, 150)
        story.printDialog("Por si todavía no lo sabes,", 80, 110, 30, 150)
        story.printDialog("un Pokémon es esto de aquí, se llama nidoran.", 80, 110, 50, 150)
        scene.setBackgroundImage(img`111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    111111111111111111111111111111111111111111111111111111111111111111111111111dddddd111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111ddbdddbbdd1dddddddd1111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111dddddddddddddbbbbbdddd1111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111ddddddddddddddddddddbddd11111111111111111111111111111111111111111111111111111111111111
    111111111111111111111111111111111111111111111111111111111111111111111111dbbbbddddddddddddddddddbbdd111111111111111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111111111111111111111111dbdddddddddddddddddddddddbbb111111111111111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111111111111111111111111dbbddddbbbbbbddddbbbbbbddbbb111111111111111111111111111111111111111111111111111111111111
    111111111111111111111111111111111111111111111111111111111111111111111111dbbbbbddddddbbbddddddbbbbbb111111111111111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111111111111111111111111ddbbbbbdddddddddddddddbbbbbb111111111111111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111111111111111111111111ddbbbbbdddddddddddddddbbbbcb111111111111111111111111111111111111111111111111111111111111
    111111111111111111111111111111111111111111111111111111111111111111111111ddbbbbbbbbdddddddbeebbbbcbd111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111dbbbbeeecbddddbccccebbecb1111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111ddbbebbbccddddbccbbbbbecbd111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111dbbbbdddbcdddddecbdddbeecb111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111dbbbbdddbbddddddbdddbeeecb111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111dbbbbdddddddddddddddbebbcb111111111111111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111111111111111111111111111dbbbdddddddddddddddbbecb1111111111111111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111111111111111111111111111111dddddddddbddddbbcccd11111111111111111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111111111111111111111111111111dbbddbeeeebbbbbbbd1111111111111111111111111111111111111111111111111111111111111111
    111111111111111111111111111111111111111111111111111111111111111111111111111111dbbbddddddbbbcb111111111111111111111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111111111111111111111111111111ddbbcbbbbbbeecccdd1111111111111111111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111111111111111111111111111dddbbbbbbccecceeccccbdd11111111111111111111111111111111111111111111111111111111111111
    111111111111111111111111111111111111111111111111111111111111111111111111ddbbbbbbbbbcbbbbbbbbbccbbbbdd1111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111dbbbbdddbbbbbbbbbccbbbbbbddbbbbbd11111111111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111111111111111111111ddbbbd1dddbbbcbbbbcccbbbbbbd111dbbbd1111111111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111111111111111111111dbbbbd1ddbbbbccebccbbbbbbbd1111ddbbb1111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111dbbbbbd1d1dbccbcccbbbbbbbbbd111d11dbbd111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111dbbbbd1ddddbbbbbcbbbbbbbbbbd11dd111dbb111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111dbbbdd11d11dbbbbbbbbbbbddddd1ddd111dbb111111111111111111111111111111111111111111111111111111
    111111111111111111111111111111111111111111111111111111111111111111dbbdddd11111dbbbbbbbbbbbd111111dd111dbbd11111111111111111111111111111111111111111111111111111
    111111111111111111111111111111111111111111111111111111111111111111dbbdddd1111dbbbbbbbbbbbd111d11111111dbccd1111111111111111111111111111111111111111111111111111
    111111111111111111111111111111111111111111111111111111111111111111dbbdddd1111dbbbbbbbbbbbd111d11111111dddbcd111111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111111111111111111ddbddddd1111dbbbbbbbbbbbd111111d11111111bcd111111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111111111111111111dbbddddd1111dbbbbbbbbbbbd111111dd111d11dbcd111111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111111111111111111dbbddd111111dbbbbbbbbbbbd11111dbbd11111dbbd111111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111111111111111111dbbddd11111ddbbbbbbbbbbbd11111ddbbdd11dddbbd11111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111dbbddbd11111dbbbbbbbbbbbd1111111ddbcbdddddbcb11111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111d1111111111dbbbdbbd11111dbbbbbbbbbbb11111111ddbbbdddddbbbd1111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111ddddd1111111ddbddddbd1111ddbbbbbbbbbbb11111111dddbbddddbbbbbd111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111ddbddbdddddddbbbdddbbd1111ddbbbbbbbbbbb1111111ddddbbbbbbdddbbb111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111dbbbdbbbbbbbbddddbbbb11111ddbbbbbbbbbbb1111111ddddbccbbbbbdbcbd11111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111ddbbebbdbbccbdd1111ddbb1111dddbbbbbbbbbbbdd1111ddddbccccbbddbbbcbd1111111111111111111111111111111111111111111111
    111111111111111111111111111111111111111111111dddddddddddbbcccd1111ddbbd111dbbbbbbbbbbbbbdd11ddddbbccbd1111dddbccd1111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111ddbdddbbbbdddbbeccbdddddbbd111dbcbbbbbbbbbbbddddddbccbd11111111ddbccd1111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111dbebbbbeebbdddddbcbdddddbbdddddbcbbbbbbbbbbbddddddbcccb111111111ddccd1111111111111111111111111111111111111111111111
    111111111111111111111111111111111111111111111dbbbbbbbbbbdddbecbdddddbbdddddbcccbbbbbcbbdddddbbddbbcbd111111ddbccd1111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111dbccccbeecbecccbddddbbbdddddbffccbbccccbddddbbddddddbbd111dddbbbbd1111111111111111111111111111111111111111111111
    111111111111111111111111111111111111111111111111111dbccccfccbbbbbbbbbddddddcfcbdddbcfcbdddddddbddddbbbddbbbbccb111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111dbccccbcccccbbbbdddbcfccbbbccccbdddddbccbdbbbcccbbcbd111111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111111111dbbccbd11dbbdbbdddbeeeecccccecbddddbbcbbbbcccccb1111111111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111111111111111111dbbddbdddbeeeeeeeeeeebddddbbbbbbbbbccbd1111111111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111111111111111111dbbddbdddbeeeeeeeeeeebdddddbbddddddbcb11111111111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111111111111111111dbbddbdddbeeeeeeeeeeebdddddbbddddddbcb11111111111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111111111111111111dbbddbdddbebeeeeeeeeebdddddbbddddddbcb11111111111111111111111111111111111111111111111111111111
    111111111111111111111111111111111111111111ddbd1111111111111111111dbbddbdddbebeeeeeeeeebdddddbbddddddbcb11111111111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111dbbddbd11111111111111111dbbddbddbbebbeeeeeeeebdddddbbddddddbcb11111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111dbdddbbd1111db666cbdddd11dbbddbdbbebbbbecceeeebdddddbbddddddbcb11111111111111111111111111111111111111111111111111111111
    111111111111111111111111111111111111111ddbbdbbbd1dd6b1111ddbcccb11dbbdbdbbebbbbeeceeebbdddddbbddddddbbd11111111111111111111111111111111111111111111111111111111
    ddddddddddddddddddddddddddddddddddddb66ccccccbbbbbb11111999ddbbbdddbbdbdbbebbbbbbecebbbddddddbdddddbbbddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    ddddddddddddddddddddddddddddddddddbb911111dddbccbd9dddbcbddbcbdddddbcbddbbebbbbbbeceebbdddddddbbbbbbbbddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddddddddddddddddddddddddddd91111119bccb1119db66666bdddbbddddbbdddbbebbbbbbefeebbdddddddddddddbbddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddddddddddddddddddddddddbbdd9d9119dbbbd111db6666666cbdddbbbbbbbddbbebbbbbbefcebbbdddddddddddbbbddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddddddddddddddddddddddddbb9dbbbd9999dddddd9966666666cbddddbbbbcbbbbebbbbbeefceeebdddddddbbbccbdddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    ddddddddddddddddddddddddddddddbccdbbbcbb9999ddbbdddb66666666cbdbbcccceeeeebbbbbbeecbcebbbbbbbbbbeeccddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    ddddddddddddddddddddddddddddddbccdbddbccd9999dbbbbbdb6666666cbbbbbcccceeeebbbbbbecbbceebeeeeeeeeeeecddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddddddddddddddddddddddbbbbbbbbccecd999dbbbbbbbbb66c6666bbdddbcfeeeebbbbbeecdbbcebbbbeeeeeeeecbdddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    ddddddddddddddddddddddddddddbbbbccdbceeecbd99dbbcccbbbbdbbcc6bbbbddbcfbeeebbbbbeecbdbcebbbbeeeeeeeecbdddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    ddddddddddddddddddddddddddddbccbbbbbceeeebd9ddbddbbcccd99ddbbbbbbbbbcfeeeebbbbbeecbdbbcebbbbeeeeeeecbdddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddddddddddddddddddddddbbbbbcdbceeecbddbbbdddddddd6bdddbbbbbbbbcceeebbbbbeecbddbcceeeeeeeeeeeecbddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbcbbbce4ecd9ddbbbbd9999d66bdddbbdbccbbceeeebbbbeecbddbbceeeeeeeeeeeecbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbcccbbcfcd999ddccbb999999999ddbcbcbdbbceeeebbbeebdddddbcceeeeeeeeeeecbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbcbd99999999dccb9999999ddddddcbdddbeeeeeebbecbddddddbceeeeeeeeeeecbdddddbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbdddd9999999999d99999ddddbccbddbeeeeeebbeecdddddddbeeeeeeeeeeecbddddddddddbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    6666666666666666666666666666666666bbbbbdd99999999999dbd99ddbbbbbcbbbbfeeeeeeebbeecddddddbeeeeeeeeeeecddddddddddddddddbbbbb6666666666666666666666666666666666666
    66666666666666666666666666666666bbbbbbbd99999999999d6cbdddb6cbbbcccbbeeeeeeeeebeecddddddbeeeeeeeeeeecdddddddddddddddddddbbbbb6666666666666666666666666666666666
    66666666666666666666666666666bbbbddddbbbdd9999999dddcbbddbbccbbcccbddbcceeeeeeeeecdddddbceeeeeeeeeeecddddddddddddddddddddddbbbb66666666666666666666666666666666
    6666666666666666666666666666bbbbddddddbcddddddddddddbddddbcc6bccddbbccccccfccccccbdddddbceeeeeeeeeeecddddddddddddddddddddddddbbb6666666666666666666666666666666
    666666666666666666666666666bbbddddddddbcdddbbddddddddddddbbbbbccbbcfceeeecccccfcbddddddbcccceeccccccbdddddddddddddddddddddddddbbb666666666666666666666666666666
    66666666666666666666666666bbbddddddddddbbbdbbcbbbbdddddbbbbbbbbbcbcceeeecccccccbdddddddddccccceeccccbddddddddddddddddddddddddddbbb66666666666666666666666666666
    66666666666666666666666666bbbddddddddddbcbddbccccbddddbbcccbbbbbcbbcccccccccbbbddddddddddbcfceeeeecccdddddddddddddddddddddddddddbb66666666666666666666666666666
    66666666666666666666666666bbbddddddddddbcbddbbbbbbbddbbbbcbcbdbcbdddbbbbbbbddddddddddddddddbccccccccbdddddddddddddddddddddddddddbb66666666666666666666666666666
    66666666666666666666666666bbbddddddddddbbcbdbcdddbcddbcbdbcfcccdddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddbb66666666666666666666666666666
    666666666666666666666666666bbbdddddddddbcfcccddddbcbcbcbdddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddbb666666666666666666666666666666
    6666666666666666666666666666bbbdddddddddddddddddddbffcbddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddbbb6666666666666666666666666666666
    666666666666666666666666666666bbbddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddbbb666666666666666666666666666666666
    66666666666666666666666666666666bbbbbddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddbbbbb66666666666666666666666666666666666
    6666666666666666666666666666666666bbbbbbbddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddbbbbbb66666666666666666666666666666666666666
    66666666666666666666666666666666666666bbbbbbbbddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddbbbbbbbb66666666666666666666666666666666666666666
    66666666666666666666666666666666666666666666bbbbbbbbbddddddddddddddddddddddddddddddddddddddddddddddddddbbbbbbbbb66666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666bbbbbbbbbbbbbbddddddddddddddddddddddddddddddbbbbbbbbbbbbbb6666666666666666666666666666666666666666666666666666
    66666666666666666666666666666666666666666666666666666666666bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb66666666666666666666666666666666666666666666666666666666666666
    666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666`)
        story.printDialog("Este que ves es solo uno de más de 150 existentes.", 80, 110, 50, 150)
        story.printDialog("Y tu deberás recabar información sobre", 80, 110, 30, 150)
        story.printDialog("todos y cada uno de ellos.", 80, 110, 30, 150)
        story.printDialog("Bien, " + player_name + ".", 80, 110, 30, 150)
        story.printDialog("¡Tu aventura Pokémon está a punto de comenzar!", 80, 110, 50, 150)
        close_oak_intro()
        start_game()
    })
}

function start_game() {
    
    if (on_game) {
        return
    }
    
    on_oak_intro = false
    on_game = true
    red = sprites.create(assets.image`red_static`, SpriteKind.Player)
    controller.moveSprite(red)
    scene.cameraFollowSprite(red)
    player_room(6, 7)
}

function player_room(x: number, y: number) {
    
    current_map = "player_room"
    tiles.setCurrentTilemap(tilemap`Red_House_F3`)
    music.stopAllSounds()
    clear_map()
    tiles.placeOnTile(red, tiles.getTileLocation(x, y))
}

function pallet_town(x: number, y: number) {
    
    current_map = "pallet_town"
    tiles.setCurrentTilemap(tilemap`Pallet_Town`)
    music.stopAllSounds()
    pallet_town_npc()
    color.setColor(0, color.rgb(255, 213, 180))
    color.setColor(3, color.rgb(131, 213, 98))
    color.setColor(5, color.rgb(246, 238, 197))
    color.setColor(6, color.rgb(189, 255, 139))
    color.setColor(7, color.rgb(57, 148, 49))
    color.setColor(10, color.rgb(57, 90, 16))
    color.setColor(12, color.rgb(123, 123, 131))
    tiles.placeOnTile(red, tiles.getTileLocation(x, y))
}

function player_house(x: number, y: number) {
    
    current_map = "player_house"
    tiles.setCurrentTilemap(tilemap`Red_House_F0`)
    music.stopAllSounds()
    player_home_npc()
    color.setColor(3, color.rgb(255, 147, 196))
    color.setColor(5, color.rgb(255, 246, 9))
    color.setColor(6, color.rgb(36, 156, 163))
    color.setColor(7, color.rgb(120, 220, 82))
    color.setColor(10, color.rgb(142, 46, 192))
    color.setColor(12, color.rgb(92, 64, 108))
    tiles.placeOnTile(red, tiles.getTileLocation(x, y))
}

function rival_house(x: number, y: number) {
    
    current_map = "rival_house"
    tiles.setCurrentTilemap(tilemap`Rival_House`)
    music.stopAllSounds()
    rival_house_npc()
    color.setColor(3, color.rgb(255, 147, 196))
    color.setColor(5, color.rgb(255, 246, 9))
    color.setColor(6, color.rgb(36, 156, 163))
    color.setColor(7, color.rgb(120, 220, 82))
    color.setColor(10, color.rgb(142, 46, 192))
    color.setColor(12, color.rgb(92, 64, 108))
    tiles.placeOnTile(red, tiles.getTileLocation(x, y))
}

function laboratory(x: number, y: number) {
    
    current_map = "laboratory"
    tiles.setCurrentTilemap(tilemap`Laboratory`)
    music.stopAllSounds()
    music.play(music.createSong(assets.song`oakLabTheme`), music.PlaybackMode.LoopingInBackground)
    laboratory_npc()
    color.setColor(3, color.rgb(255, 213, 180))
    color.setColor(5, color.rgb(255, 246, 9))
    color.setColor(6, color.rgb(36, 156, 163))
    color.setColor(7, color.rgb(120, 220, 82))
    color.setColor(10, color.rgb(142, 46, 192))
    color.setColor(12, color.rgb(92, 64, 108))
    tiles.placeOnTile(red, tiles.getTileLocation(x, y))
}

function bottom_text_sprite() {
    
    text_sprite = textsprite.create("Pulsa A para jugar")
    text_sprite.setOutline(1, 15)
    text_sprite.setPosition(80, 110)
}

function top_text_sprite() {
    
    text_sprite_oak = textsprite.create("Pulsa B para omitir")
    text_sprite_oak.setOutline(1, 15)
    text_sprite_oak.setPosition(60, 5)
}

function confirm_choice(pokemon_npc: NPC) {
    let player_choice: string;
    
    let p_name = pokemon_npc.name
    let chosen_img = null
    if (p_name == "Bulbasaur") {
        chosen_img = IMG_BULBASAUR
    } else if (p_name == "Charmander") {
        chosen_img = IMG_CHARMANDER
    } else if (p_name == "Squirtle") {
        chosen_img = IMG_SQUIRTLE
    }
    
    if (!chosen_img) {
        chosen_img = assets.image`pokeball`
    }
    
    let preview = sprites.create(chosen_img, SpriteKind.Food)
    preview.z = 200
    preview.setPosition(80, 26)
    preview.setFlag(SpriteFlag.RelativeToCamera, true)
    pause(100)
    if (game.ask("¿Elegir a " + p_name + "?")) {
        preview.destroy()
        has_pokemon = true
        player_choice = p_name
        music.play(music.melodyPlayable(music.baDing), music.PlaybackMode.InBackground)
        game.showLongText("¡Has conseguido a " + p_name + "!", DialogLayout.Bottom)
        pokemon_npc.sprite.destroy()
        npc_list.removeElement(pokemon_npc)
        control.runInParallel(function rival_scene() {
            let azul_s: Sprite;
            let target_tile_x: number;
            let rival_pokemon: string;
            let target_px_x: any;
            
            if (!azul2) {
                return
            }
            
            azul_s = azul2.sprite
            azul_s.setFlag(SpriteFlag.Ghost, true)
            azul2.talk()
            game.showLongText("Azul: ¡Já! Te he tendido una trampa dejándote escoger primero, ahora verás!", DialogLayout.Bottom)
            controller.moveSprite(red, 0, 0)
            animation.runImageAnimation(azul_s, assets.animation`rivaldown`, 200, true)
            while (azul_s.y < 104) {
                azul_s.y += 2
                pause(50)
            }
            target_tile_x = 0
            rival_pokemon = ""
            if (player_choice == "Squirtle") {
                target_tile_x = 8
                rival_pokemon = "Bulbasaur"
            } else if (player_choice == "Bulbasaur") {
                target_tile_x = 10
                rival_pokemon = "Charmander"
            } else if (player_choice == "Charmander") {
                target_tile_x = 12
                rival_pokemon = "Squirtle"
            } else {
                target_tile_x = 10
                rival_pokemon = "Charmander"
            }
            
            target_px_x = target_tile_x * 16 + 8
            if (azul_s.x < target_px_x) {
                animation.runImageAnimation(azul_s, assets.animation`rivalright`, 200, true)
                while (azul_s.x < target_px_x) {
                    azul_s.x += 2
                    pause(50)
                }
            } else if (azul_s.x > target_px_x) {
                animation.runImageAnimation(azul_s, assets.animation`rivalleft`, 200, true)
                while (azul_s.x > target_px_x) {
                    azul_s.x -= 2
                    pause(50)
                }
            }
            
            animation.runImageAnimation(azul_s, assets.animation`rivalup`, 200, true)
            while (azul_s.y > 88) {
                azul_s.y -= 2
                pause(50)
            }
            animation.stopAnimation(animation.AnimationTypes.All, azul_s)
            azul_s.setImage(assets.image`rivalup_static`)
            game.showLongText("Azul: ¡Escojo a " + rival_pokemon + "! Mi inicial tiene ventaja de tipos frente al tuyo, ahora nunca podrás vencerme", DialogLayout.Bottom)
            for (let item of npc_list) {
                if (item.name == rival_pokemon) {
                    item.sprite.destroy()
                    npc_list.removeElement(item)
                    break
                }
                
            }
            animation.runImageAnimation(azul_s, assets.animation`rivaldown`, 200, true)
            while (azul_s.y < 104) {
                azul_s.y += 2
                pause(50)
            }
            animation.runImageAnimation(azul_s, assets.animation`rivalleft`, 200, true)
            while (azul_s.x > 104) {
                azul_s.x -= 2
                pause(50)
            }
            azul_s.setImage(assets.image`rivalright_static`)
            game.showLongText("Azul: Yo me voy ya a por la primera medalla de gimnasio, nos vemos en ciudad plateada, adiós!", DialogLayout.Bottom)
            animation.runImageAnimation(azul_s, assets.animation`rivaldown`, 200, true)
            while (azul_s.y < 220) {
                azul_s.y += 4
                pause(50)
            }
            azul_s.destroy()
            controller.moveSprite(red)
            return
        })
    } else {
        preview.destroy()
    }
    
}

controller.A.onEvent(ControllerButtonEvent.Pressed, function on_a_pressed() {
    let diff_x: number;
    let diff_y: number;
    
    if (on_start_screen == true) {
        on_start_screen = false
        close_start_screen()
        music.stopAllSounds()
        oak_cutscene()
    } else if (on_game) {
        for (let npc_entity of npc_list) {
            diff_x = Math.abs(red.x - npc_entity.sprite.x)
            diff_y = Math.abs(red.y - npc_entity.sprite.y)
            if (diff_x < 20 && diff_y < 20) {
                npc_entity.talk()
                if (npc_entity.name == "Bulbasaur" || npc_entity.name == "Charmander" || npc_entity.name == "Squirtle") {
                    confirm_choice(npc_entity)
                }
                
                break
            }
            
        }
    }
    
})
controller.B.onEvent(ControllerButtonEvent.Pressed, function on_b_pressed() {
    
    if (on_oak_intro == true) {
        story.cancelCurrentCutscene()
        story.clearAllText()
        close_oak_intro()
        music.stopAllSounds()
        on_oak_intro = false
        pause(200)
        start_game()
    }
    
})
controller.left.onEvent(ControllerButtonEvent.Pressed, function on_left_pressed() {
    
    if (on_game == true) {
        animation.runImageAnimation(red, assets.animation`red_left`, 200, true)
    }
    
})
controller.right.onEvent(ControllerButtonEvent.Pressed, function on_right_pressed() {
    
    if (on_game == true) {
        animation.runImageAnimation(red, assets.animation`red_right`, 200, true)
    }
    
})
controller.up.onEvent(ControllerButtonEvent.Pressed, function on_up_pressed() {
    
    if (on_game == true) {
        animation.runImageAnimation(red, assets.animation`red_up`, 200, true)
    }
    
})
controller.down.onEvent(ControllerButtonEvent.Pressed, function on_down_pressed() {
    
    if (on_game == true) {
        animation.runImageAnimation(red, assets.animation`red_down`, 200, true)
    }
    
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`stairs_mid_left`, function on_overlap_upstairs(sprite: Sprite, location: tiles.Location) {
    
    if (current_map == "player_house") {
        player_room(10, 2)
    }
    
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`downstairs4`, function on_overlap_downstairs(sprite: Sprite, location: tiles.Location) {
    
    if (current_map == "player_room") {
        player_house(10, 2)
    }
    
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`door1`, function enter_player_house(sprite: Sprite, location: tiles.Location) {
    
    if (current_map == "pallet_town") {
        player_house(4, 7)
    }
    
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`rivaldoor`, function enter_rival_house(sprite: Sprite, location: tiles.Location) {
    
    if (current_map == "pallet_town") {
        rival_house(4, 7)
    }
    
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`entry_bottom_centre`, function exit_house(sprite: Sprite, location: tiles.Location) {
    
    if (current_map == "player_house") {
        pallet_town(6, 8)
    } else if (current_map == "rival_house") {
        pallet_town(15, 8)
    }
    
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`lab_entry`, function enter_lab(sprite: Sprite, location: tiles.Location) {
    
    if (current_map == "pallet_town") {
        laboratory(6, 12)
    }
    
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`lab_entry_bottom_center`, function exit_lab(sprite: Sprite, location: tiles.Location) {
    
    if (current_map == "laboratory") {
        pallet_town(16, 14)
    }
    
})
function exit_pallet_town(sprite: Sprite, location: tiles.Location) {
    
    if (red.y > 20) {
        return
    }
    
    if (current_map == "pallet_town") {
        if (!oak_event) {
            controller.moveSprite(red, 0, 0)
            red.setVelocity(0, 0)
            game.showLongText("¡Espera! ¡No salgas todavía!", DialogLayout.Bottom)
            red.y += 8
            control.runInParallel(function oak_scene() {
                let oak: Sprite;
                
                oak = sprites.create(assets.image`oakup_static`, KindNPC)
                oak.setFlag(SpriteFlag.Ghost, true)
                oak.z = 100
                oak.x = 184
                oak.y = 140
                animation.runImageAnimation(oak, assets.animation`oakup`, 200, true)
                while (oak.y > 64) {
                    oak.y -= 2
                    pause(50)
                }
                animation.stopAnimation(animation.AnimationTypes.All, oak)
                oak.setImage(assets.image`oakup_static`)
                game.showLongText("¡¿A donde te piensas que vas sin pokémon?! Había ido a buscar a vuestros iniciales, venga, ven al laboratorio, te estaré esperando.", DialogLayout.Bottom)
                animation.runImageAnimation(oak, assets.animation`oakdown`, 200, true)
                while (oak.y < 144) {
                    oak.y += 2
                    pause(50)
                }
                oak.destroy()
                oak_event = true
                controller.moveSprite(red)
            })
            oak_event = true
        } else if (!has_pokemon) {
            controller.moveSprite(red, 0, 0)
            red.setVelocity(0, 0)
            game.showLongText("Tienes que ir al laboratorio del profesor Oak!", DialogLayout.Bottom)
            red.y += 8
            pause(200)
            controller.moveSprite(red)
        } else {
            ending_scene()
        }
        
    }
    
}

scene.onOverlapTile(SpriteKind.Player, assets.tile`exit_left`, exit_pallet_town)
scene.onOverlapTile(SpriteKind.Player, assets.tile`exit_right`, exit_pallet_town)
function ending_scene() {
    color.setColor(3, color.rgb(255, 147, 196))
    color.setColor(5, color.rgb(255, 246, 9))
    color.setColor(6, color.rgb(36, 156, 163))
    color.setColor(7, color.rgb(120, 220, 82))
    color.setColor(10, color.rgb(142, 46, 192))
    color.setColor(12, color.rgb(92, 64, 108))
    controller.moveSprite(red, 0, 0)
    red.setFlag(SpriteFlag.Invisible, true)
    tiles.setTilemap(tilemap` `)
    scene.cameraFollowSprite(null)
    scene.centerCameraAt(80, 60)
    scene.setBackgroundColor(1)
    scene.setBackgroundImage(img`fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8cccfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffff222fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffcc6ccffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffff2222f2ffffffffffffffffffffffffffffffffffffffffffffffccfffffffffcc666cffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffff2222f2ffffffffffffffffffffffffffffffffffffffffffffffc6ccffffffcc6666cffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffff22222fffffffffffffffffffffffffffffffffffffffffffffcc6ccfffffff66666ccfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffff2222fffffffffffffffffffffffffffffffffffffffffffffc666cccccccc6666cccfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffff222422fffffffffffffffffffffffffffffffffffffffffffffc666ccc666666666ccccffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffff22224422fffffefffffffffffffffffffffffffffffffffffffffc66c666b6666666ccccccfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffff22225522ffffeeffffffffffffffffffffffffffffffffffffffff66666666666cccccccccfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffeee22445522ffffeeefffffffffffffffffffffffffffffffffffffff66b666666bbbccccccccfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffeeee22555422ffffe4ee2fffffffffffffffffffffffffffffffffffffcbbb6666bbddbbcccccccffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffe44e225552442fffc44e4eeeeeeeeffffffffffffffffffffffffffffccddd6666ddddddbccccccffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffeeeee44e2255445422fffe444ee4444eeeeffffffffffffffffffffffffffcbdddb66bdddddddccccccffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffeeee444e2255555522fffe444444444444eefffffffffffffffffffffffffcddddddddddddddddcccccfffffffffbffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffff44ee44ee2255555522ffff44444eeee444eefffffffffffffffffffffffffcddddddddddddddddbcccccffffffcfcffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffee44444ee22224555522ffff444ffccccce444eefffffffffffffffffffffffbddddddddddeeebddbcccccfffffcbccfccfffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffeeee44444eef2224555522ffffe4eff8888cce4444efffffffffffffffffffffcccbddddddcccbbbdddcccccfffffc666cccffffffffffffffffffffffffff88fffffffffffffffffff
ffffffffffffe444ffc44eefff22555422ffffeef88c666666ce444fffffffffffffffffffffccfcddddddfcbddddddcccccfffff66666cfffffffffffffffffffffffffff886cfffffffffffffffff
ffffffffffee4ee8888c44eeff2455442fffffeef8866666666ce44fffffffffffffffffffffcddbcbdddddddddddddcccccffff666666ccfffffffffffffffffffff666688668fffffffffffffffff
fffffffff2ee4888888fe4eeff245542ffffffeef88666666666c4effffffffffffffcffffffcddddddddddddddddddccccccffc66666cffffffffffffffff866ff86666686668fffffffffffffffff
fffffffffee4e8888888c44eff2244e2ffffffeef88666666666c4effffffffffffcfbfcffffcddddddddddbbddddddcccccffc666666ccfffffffffffffff666886666668666ffffffffffffffffff
fffffffffeeec8888888fe4eff22e4eeffffffeef88c66666666ceefffffffffffccc6ccfffffbdddbddddbbcdddddbcccccfc666666cfcfffffffffffffffcb6866666666668ffffffffffffffffff
fffffffffeee888888888e4effffee4effffffeef888666666668c4effffffffffcc66cffffffcddbdbddcfbbdddddbccccfc666666ccccfffffffffccccffcbb6666666666688fffffffffffffffff
fffffffffeee888888888ccefffffe44efffeeeef888666666668c4efffffffffffc6666ccffffddbcffcbdddddddbccccfccc6666cccccffffff2cceeeccfc66666666666666fccfffffffffffffff
fffffffffeec8888888888cefffffeeeeeffee4ef888666666668c4effffffffffbc66666ccfffcddddddddddddddcccccccccc66ccccccceefcfceeeeecbfcc6666666666666cfccffffffffffffff
ffffffffeee888cc888888ceefffffeeeeeeee4ef888666666668c44efffffffffcc66666ccccfcbddddddddddddbcccccccccc6cccccccff4eecceeeedb1fcfc6666699666666fbbcfffffffffffff
ffffffffeee88eeef88cecceefffffeeeeeeeee888888666666688e4efffffffffcb6666666ccffcddddddddddbccccccccccccc6cccccc666eeeceeeb111fcff66666bb66668cbddffffffffffffff
ffffffffeec8ceeef8ce4fceeffffffeeeeeeee888888666666ccce4eeefefe2ffbbcc666666cffcbbddddddddbcbcccccccccc6996ccfc6667eeceeb1111f6cc666666666668cdddffffffffffffff
ffffffffe888ceeefce4efceecffffffeeeece8888888666ccebbee44eeeeeeee44eeec66666ccccfcbddddddddddccccccccc666996cfcc66c4eceed11dbc6666bdb6666668fcdddffffffffffffff
ffffffffe888ceeffce4f88ceeffffffeeefec8888888c6cee4334ee4e444eee444444ecb666cccccbddddddddddddbccccccc66c6666666c6ce4ced11bcf66666bdbc68868cccbbbcfffffffffffff
ffffffffe888ceeffe4ef88cceeeffffefeeec8888888cce444334ee4444444ee444444ee6ccccccbddddddddddddddbcccccc6ccc6666996cccecc111fff66666b1bcb66666cbbcbcfffffffffffff
ffffffffe888ceece44efff8cceeeffffe4ec8cc88888ce4444444ee4444444eee334434ecccccdddddddddddddddddddccccc666c66669996c6ceb111fff666666dbcb66666666ccffffffffffffff
ffffffffe888eee4444ffffffceeffffeeec88ccc888cebeeeee34444ee4eee7ceeeee334eccfbdddddddddddddddddddbcccc666c6666666666ccd111fff666666666666666666cfffffffffffffff
ffffffffe88fe44444effffce444eeffeeef88cccffc4433334eeee4e55e544fee3344eeeeccbdddddddddddddddddddddbcccfc6f6666666666bd1111cff866666666666666c66cfffffffffffffff
fffffffeeecc4444444fffe4444444efceff88cccce444333334eee45554544fee33444444eeddd33ddddddddddddddddddcccccf666cf666666d11111bffcb6666666666666cccf8ffffffffffffff
ffffffffeece4444444eee444444444eeef888cccee444433344eeee4555554fee4444444eebd44444ebdddddddddddddddcccdd6666ddc966666dbbbbdcffbbbcc66666666688ff8fcccffffffffff
ffffffffece444444444eee4444444444cf8888ccee43d44444ee444ee444ee4ece44444333e344444eedddddddddddddddbccdb6666dbcc66666bc8ccdbffddbecccc666666688f8ccccffffffffff
ffffffffff44444444444eee444444444ef88888eee43beeee44443334ee4444443bee44333de4334eeeddddddddddddddddcbcfcc666cfc66666c6666cdcfbdddeeeecccc68cf8886bcccfffffffff
fffffffffe44444d44444eeeeee4444444eccfcfeeeeceee44433333beeee44444334eee433be3dddeeebdddddddddddddddcbcfc66b66cc66666c66666ccffdddbbeeeeeebcf88888fbbffffffffff
fffffffffeee4eed44444eeefeee444444eeeceeeeeefee44433333beeeeeee4443444eee44bedbddbeebdddddddddddddddbbccf6bbc6666666cc9b6666ccfbddbbeeeeeebcf888888cbcfffffffff
ffffffffffceeeeb4eee4eeeeeeeee4444444444eeeefee44433334eeeeeeec444444444e44ebbd11dcccddddddddddddddddcbcf6bdbcc66666cc996688cfce44deeeeeeeecf888f88fccfffffffff
fffffffffffeeee44efe4eeeeeee444444444444eeeeeee4443334ccfffeffc444433344eedbbe11dbcccbdddddddddddddddcdbfcbddbccc66ccb99666666cfc4444eeeeeeff888f88bcffffffffff
fffffffffeee4444effeeeeeeeee4444444444444ceeeee444444effeeeeceef444333444eebbbcfebeeeddddddddddddddddbcbdf6debdbbbc6c9966696666fc444444ee4eff888f88bcffffffffff
fffffffffee44444eeeeeeeeeeee44444444444444efeee44e444fffe4e4eeefe43333e44eebbcebddbbbddddddddddddddddbcfff6ddecfffcf6996b9996688cff444444eff888f88fffffffffffff
ffffffffee444444e22eeeeeeeee4444444444eee44eeeeeeee44fffeeeeeeefe433344e444bcebdddbbddddddddddddddddddbccf6bddbfddc66bb69999b9666ccfecffffff888f8ffffffffffffff
fffffff2e44444efe22eeceee44444444444eeeeeeeeceeeeeeefeffeeeeeeefce4444ee43efbbebbdbbdddbeddddddddddddbbccf6bddbfbdc666669996699666bbefc44ffffffffffffffffffffff
fffffffee4444cfff22eecee44444444444444eeefeefeeeeeeeccccee4eeeeeceeeeeee4dcfbdbbbdbbdddeeeddddddddddbbcfcf66ddbcbdc666669996b99666bbeee44ffffffffffffffffffffff
ffffffffe4444ffff22ecefe44ddd4444444444eefeefcceeeeeeecceeeeeeeecceeeeee4bbcdbdebdbebdceeeddddddddddcdbfcfc6dddecbcb6666b96b99b66bbce444eccffffffffffffffffffff
fffffffff444efffceeeeffeddddddd444444444eceeeeeeeceeeecceeeeeecccceeeeeeeedeeedebdbefdfebbddddddddddcbbfcfc6dddecbcbc6666669966bbbbceeeebefffffffffffffffffffff
fffffffff4eefeeeeeeeefc4dddddddd4444444eecccccccecccccccceeeeecccceccccccbdef7bccb7ecbebddddddbdddbcbddcffc6bddecbcbcc666666966dddbbdbbb4efffffffffffffffffffff
ffffffffffffeeeeeeecffcdddddddddd44444ceeeeecccccccccc7cc7ccccc777cccccc7ddec7bcbbbcccdbbebddbdbbbccbbdcfcc6bddbcbcbeccc66666b6bbdbdddd44efffffffffffffffffffff
ffffffffffffeeeeeeefffcddddddddddd4444fec7cc7ccc777c77cccc7777c7c7cc7777cddecb4bdbbcccdbecddbbddbcbcbbdbcc66bddbbbebbecfc6c661bccccdd4444efffffffffffffffffffff
fffffffffffffeeeeeefffcddddddddddd4444fc777cc77777ccc767c777c7c7c7cc77777eeff74bdbdcfbcccdddccbddbcbbbdbbf66bdddcccbeeeeebeccbbcdbedd4444ffffffffffffffffffffff
fffffffffffffeeeceeffe4ddddddddddd4444c7777777777c777c7c77777cc7c77cc77777c7e74bdebccbeebdddccbddc1cddbbdfccbdddef66ccccbddeefbebddd4444effffffffffffffffffffff
fffffffffffffeeeefffce4dddddddddddd44e777777cccc7cc7c7c77c777ccccccf777cc777eeebdebbeedbbdbcbddddcdbdbbdbccc6bddec666668bddddcbfbdd4444ecffffffffffffffffffffff
ffffffffffffffffcffe444ddddddddddddd47777776ccccccc7c7c777766c66666f7777c7777e4bdeebbeeeccfcbdddbbbbbbdbc6c66bdddf66666688ddddddddd4444ff8fffffffffffffffffffff
fffffffffffffffefffe444ddddddddddddde77777c6666c67777c77777c666666cfcc67c77c7ebd4eeebeccbbbbbddbbbbdbbbcc6666bdddf66666668ddddddd44444ef868ffffffffffffffffffff
fffffffffffffffffff4444dddddddddddddec7777cc696667777777777c66666cccccc7c677cebdeeeebbdcbbbdbdbcbdbdbdcc66666bddde66666668ebdddd444eeeec8868fffffffffffffffffff
ffffffffffffffffffe44444dddddddddddd4e44eeec6696c777777777cc666eeeec66666677cebdeeee7bdbccddbbcbbdddbbc666666bdddbc6666668c4eeeeee4eeec888888ffffffffffffffffff
ffffffffffffffffffe44444dddddddddddde444ecceb6967777777777c6666ceeec666666cccccceeeceddbccbbbbbbbddbdbc666666bdddbc6666668c4444444444c888888fffffffffffffffffff
ffffffffffffffffffe44444444dddddd444e444666ce696777777777c6666666ecc6666666cccccfffcbddcbbbbbbbbbdbbdc6666666bddddc6666668c44444444eff888888fffffffffffffffffff
fffffffffffffffffee44444444444444444e44e666cc696c7777777c6666666666c66666666666cccccbcdcbbbbbbbbbbbcbc666cc66bdddde66666688f4444444fff8888888ffffffffffffffffff
fffffffffffffffffee44444e44444444444f4e666666996777776c7c6666666666cc66666c6666c666bbfbcbbbbbbbbbbbbcc666cc6bddddde66668888f44444ef8888ff88ffffffffffffffffffff
fffffffffffffffffee4444eef4444444444fec66666696677cc76cc666666666666666666c666cf666cccccbbbbbbbbbbcbcc666cc6bdddddc66668888f44444ef8888ff88ffffffffffffffffffff
fffffffffffffffffee4444eeee444444444fe666666696677667c6c66666666666666666666666f666ce4ccbbcbcccbbbbbc6666666bdddddc6666888cfeecfff888888fffffffffffffffffffffff
fffffffffffffffffeeeeeeeeeffe4444444fc66666666666c66cc6666696666666666666666666f666cb4ebbb44eccdbbbbc66c6666ddddddc88868c88fecccf888888888cccffffffffffffffffff
ffffffffffffffffffeeeeeeeefffee44444ec666666c6666666c6666666c666666666c66666666cc66ce44dd455cccbdbcc66666666ddddddc8888c88fcfffbcc8888888cbcccfffffffffffffffff
ffffffffffffffffffeeeeeeeeeffffee44446666699eb66996666666696ebd6666666c666666666c66cc455de5ecccce4c666666669ddddddcfc8888fffffcccf8888cbccbbbffffffffffffffffff
ffffffffffffffffffffeeeeeefffffeeeeee6666699db669996666666663dd6666666c6666666c6c66cce454e5c666e44b66666669dddddddcc88688ffffffffffffcbdbccccffffffffffffffffff
fffffffffffffffffffffeeeeefffffffeeec66666961d66999666666666d966666666c6666666c66666c444544e66e455c6666666ddddddddc6888cffffffffffffffcddcfffffffffffffffffffff
ffffffffffffffffffffbcbeeeffffffffffc666c69966699996666666666666666c66c6666666c66c6ce4e4442e6c55554b666666dddddddd69668cfffffffffffffffffffffffffffffffffffffff
fffffffffffffffffff1dbdb4ecfffffffffc6666c699999996666666666666666c66c66666666c66c6cc444442e6b55554666666ddddddddc69966cfffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffcbbbbccffffffffffc66666c6699996666666666666666c6ccc66696666b6b6ccf444444eb44557666666dddddddddf6696cffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffccccffffffffffff8666666c6699666666666666666b66cc666699666cbcc66cf54444446b44e666666bddddddddbc66666cfffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffc6666666c666666666666666c6696cc6666999666fcffc66c45444554b4c66bbbbbddddddddbbbb66666fffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffcb66666666c666666666666666666cccc666999c66fcffc66c45555554e4cbbdbebdddddddbeceebb66ccfffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffcc6d6666cffc66666666cc6666ccfffc669999c66fffff66c4555554544bddeccbdddddbecfcffceccfffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffff61ccbbfcffc66666666666cfffffffc69966c6ccfffc66c75555544eedbcfffcccccccfffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffccfccfffffff666666fffffffffffcb996cccccffcccce5555554eccffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffcdd96ffeecffffccee55555544efffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffcf8cccecffffccce45544444cfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffbdbffffffcddb44ee444fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffceefffeefffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeefffffefffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff`)
    music.play(music.melodyPlayable(music.powerUp), music.PlaybackMode.InBackground)
    game.showLongText("Y aquí es donde empezó la aventura de " + player_name + ". Recorriendo toda la región, ganando todas las medallas y ganando la liga pokemon. ¡Muchas gracias por jugar!", DialogLayout.Bottom)
    game.over(true, effects.confetti)
}

game.onUpdate(function on_on_update() {
    if (on_game) {
        if (red.vx == 0 && red.vy == 0) {
            animation.stopAnimation(animation.AnimationTypes.All, red)
        }
        
    }
    
})
start_screen()
